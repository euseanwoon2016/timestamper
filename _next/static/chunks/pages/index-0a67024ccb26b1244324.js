(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3061:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r=n(3789),i=n(318),o=n(862),a=n(3924),s=n(2827),c=n(980),l=n(9050),m=n(3850),p=n(8017),u=n(9444),d=n(8482),f=n(336),x=n(9887),g=n(8906),h=n(8448),j=n(4115),v=n(6627),y=n(7294),b=n(5499),w=n(9327),k=n(6755),S=n(9950),O=n(8420),C=n(5893),I=function(){var e=(0,c.useColorMode)(),t=e.colorMode,n=e.toggleColorMode;return(0,C.jsx)(O.h,{borderRadius:"md","aria-label":t,onClick:n,icon:"light"===t?(0,C.jsx)(k.k,{}):(0,C.jsx)(S.N,{})})},T=n(3733),_=n(2770),E=n(17),z=function(e){var t=e.isOpen,n=e.onClose,r=e.generateTimestampExport,i=(0,c.useToast)();return(0,C.jsxs)(_.u_,{isOpen:t,onClose:n,children:[(0,C.jsx)(_.ZA,{}),(0,C.jsxs)(_.hz,{children:[(0,C.jsx)(_.xB,{children:"Export As Text"}),(0,C.jsx)(_.ol,{}),(0,C.jsx)(_.fe,{children:(0,C.jsx)(E.g,{whiteSpace:"pre-wrap",height:"400px",children:r()})}),(0,C.jsxs)(_.mz,{children:[(0,C.jsx)(g.z,{variant:"ghost",mr:3,leftIcon:(0,C.jsx)(T.T,{}),onClick:function(){navigator.clipboard.writeText(r()),i({title:"Copied to clipboard!",description:"You can paste it directly into the YouTube chat.",status:"success",duration:3e3,isClosable:!0})},children:"Copy"}),(0,C.jsx)(g.z,{colorScheme:"red",onClick:n,children:"Close"})]})]})]})},D=n(2809),P=n(3454);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.isOpen,n=e.onClose,r=e.timestamperSettings,o=e.setTimestamperSettings,a=(0,b.Z)(["timestamps","videoId","timestamperSettings"]),s=(0,i.Z)(a,3),c=(s[0],s[1],s[2]);return(0,C.jsxs)(_.u_,{isOpen:t,onClose:n,children:[(0,C.jsx)(_.ZA,{}),(0,C.jsxs)(_.hz,{children:[(0,C.jsx)(_.xB,{children:"Settings"}),(0,C.jsx)(_.ol,{}),(0,C.jsx)(_.fe,{children:(0,C.jsxs)(p.xu,{display:"flex",sx:{gap:"0.5rem"},flexDir:"column",children:[(0,C.jsxs)("label",{children:[(0,C.jsx)(j.x,{children:(0,C.jsx)(P.u,{hasArrow:!0,label:"Number of seconds before the current time when creating timestamp.",children:"Time offset (seconds):"})}),(0,C.jsx)(x.I,{type:"number",onChange:function(e){var t=e.currentTarget,n=t.name,i=t.value;o(R(R({},r),{},(0,D.Z)({},n,i)))},name:"timeOffset",value:r.timeOffset})]}),(0,C.jsx)(P.u,{hasArrow:!0,label:"Clear all site data such as current video ID, saved timestamps and settings.",children:(0,C.jsx)(g.z,{onClick:function(){c("timestamperSettings"),c("timestamps"),c("videoId"),window.location.reload()},colorScheme:"red",children:"Clear All Data"})})]})}),(0,C.jsx)(_.mz,{children:(0,C.jsx)(g.z,{onClick:n,children:"Save"})})]})]})},Y=n(8714),L=n.n(Y);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.timestampEvent,n=e.timestampList,i=e.player,o=e.isFocused,a=e.setTimestampList,c=(e.addNewTimestamp,(0,y.useRef)(null)),l=(0,y.useRef)(null),m=(0,y.useRef)(null),u=(0,y.useRef)(null),d=function(){var e=(0,r.Z)(n);e.splice(n.indexOf(t),1),a(e)},f=function(e){var r=e[n.indexOf(t)];r.timestamp.actualSeconds=g(r.timestamp),a(e)},g=function(e){return 60*parseInt(e.hours)*60+60*parseInt(e.minutes)+parseInt(e.seconds)};return(0,y.useEffect)((function(){var e;o&&(null===(e=c.current)||void 0===e||e.focus())}),[]),(0,C.jsxs)(p.xu,{className:L().timestampEvent,display:"flex",children:[(0,C.jsx)(O.h,{variant:"ghost",marginRight:"0.5rem","aria-label":"Jump to this timestamp",icon:(0,C.jsx)(w.oqk,{size:"2rem"}),borderRadius:"5px",colorScheme:"blue",onClick:function(){i.seekTo(t.timestamp.actualSeconds)}}),(0,C.jsxs)(p.xu,{flex:"0 1 32%",display:"flex",className:L().timestamp,children:[(0,C.jsx)(x.I,{ref:l,min:"0",max:"59",type:"number",onInput:function(e){var i=(0,r.Z)(n);i[n.indexOf(t)].timestamp.hours=e.target.value.padStart(2,"0"),f(i)},value:t.timestamp.hours}),(0,C.jsx)(x.I,{ref:m,min:"0",max:"59",type:"number",onInput:function(e){var i=(0,r.Z)(n);i[n.indexOf(t)].timestamp.minutes=e.target.value.padStart(2,"0"),f(i)},value:t.timestamp.minutes}),(0,C.jsx)(x.I,{ref:u,min:"0",max:"59",type:"number",onInput:function(e){var i=(0,r.Z)(n);i[n.indexOf(t)].timestamp.seconds=e.target.value.padStart(2,"0"),f(i)},value:t.timestamp.seconds})]}),(0,C.jsx)(p.xu,{fontSize:"24",style:{paddingInline:"0.5rem"},children:":"}),(0,C.jsx)(p.xu,{flex:"0 1 68%",children:(0,C.jsx)(x.I,{ref:c,type:"text",placeholder:"Something cool happened...",onInput:function(e){var i=(0,r.Z)(n);i[n.indexOf(t)]=A(A({},t),{},{event:e.currentTarget.value}),a(i)},value:t.event,onKeyDown:function(e){"Escape"===e.key&&d()}})}),(0,C.jsx)(O.h,{variant:"ghost",marginLeft:"0.5rem","aria-label":"Delete this timestamp",icon:(0,C.jsx)(s.p,{}),borderRadius:"5px",colorScheme:"red",onClick:d})]})},F=n(9008),W=function(e){var t=e.title,n=e.description,r=e.url,i=e.img;return(0,C.jsxs)(F.default,{children:[(0,C.jsx)("title",{children:t}),(0,C.jsx)("meta",{name:"title",content:t}),(0,C.jsx)("meta",{name:"description",content:n}),(0,C.jsx)("meta",{property:"og:type",content:"website"}),(0,C.jsx)("meta",{property:"og:url",content:null!==r&&void 0!==r?r:""}),(0,C.jsx)("meta",{property:"og:title",content:t}),(0,C.jsx)("meta",{property:"og:description",content:n}),(0,C.jsx)("meta",{property:"og:image",content:null!==i&&void 0!==i?i:""}),(0,C.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,C.jsx)("meta",{property:"twitter:url",content:null!==r&&void 0!==r?r:""}),(0,C.jsx)("meta",{property:"twitter:title",content:t}),(0,C.jsx)("meta",{property:"twitter:description",content:n}),(0,C.jsx)("meta",{property:"twitter:image",content:null!==i&&void 0!==i?i:""}),(0,C.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,C.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,C.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,C.jsx)("link",{rel:"manifest",href:"/site.webmanifest"})]})},X=function(){var e=(0,y.useState)(null),t=e[0],n=e[1],k=(0,y.useState)(!1),S=k[0],O=k[1],T=(0,y.useState)(null),_=T[0],E=T[1],D=(0,y.useState)(null),P=D[0],N=D[1],R=(0,y.useState)(!1),Y=R[0],M=R[1],A=(0,y.useState)({timeOffset:5}),F=A[0],X=A[1],G=(0,y.useState)((function(){})),H=G[0],J=G[1],q=(0,y.useRef)(null),K=(0,y.useRef)(null),Q=(0,b.Z)(["timestamps","videoId","timestamperSettings"]),U=(0,i.Z)(Q,3),V=U[0],$=U[1],ee=U[2],te=(0,l.q)(),ne=te.isOpen,re=te.onOpen,ie=te.onClose,oe=(0,l.q)(),ae=oe.isOpen,se=oe.onOpen,ce=oe.onClose,le=(0,c.useColorMode)().colorMode;(0,y.useEffect)((function(){if(!_){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),window.onYouTubeIframeAPIReady=function(){E(new window.YT.Player("player",{height:"100%",width:"100%",playerVars:{playsinline:1},events:{onReady:function(e){M(!0)}}}))}}null===t&&pe()}),[]),(0,y.useEffect)((function(){if(null!=P){var e=JSON.stringify(P);$("videoId",e,{path:"/",expires:new Date(Date.now()+7776e6),sameSite:"strict",secure:!0}),P&&Y&&_.loadVideoById({videoId:P})}else ee("videoId")}),[P,_,Y]),(0,y.useEffect)((function(){K.current.scrollTop=K.current.scrollHeight,J((function(){return function(){if(_&&P){var e=me(_.getCurrentTime()-F.timeOffset);n([].concat((0,r.Z)(null!==t&&void 0!==t?t:[]),[{timestamp:e,event:""}]))}}}))}),[_,t,P,F]),(0,y.useEffect)((function(){if(null!==t){if(0===t.length)return void ee("timestamps");var e=JSON.stringify(t);$("timestamps",e,{path:"/",expires:new Date(Date.now()+7776e6),sameSite:"strict",secure:!0})}}),[t]),(0,y.useEffect)((function(){var e=function(e){"Enter"===e.key&&H()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[H]),(0,y.useEffect)((function(){var e=JSON.stringify(F);$("timestamperSettings",e,{path:"/",expires:new Date(Date.now()+7776e6),sameSite:"strict",secure:!0})}),[F]);var me=function(e){if(e<=0)return{actualSeconds:0,hours:"00",minutes:"00",seconds:"00"};var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return{actualSeconds:e,hours:t.toString().padStart(2,"0"),minutes:n.toString().padStart(2,"0"),seconds:r.toString().padStart(2,"0")}},pe=function(){V.timestamps?n(V.timestamps):n([]),V.videoId&&(q.current.value="https://www.youtube.com/watch?v=".concat(V.videoId),N(V.videoId)),V.timestamperSettings&&X(V.timestamperSettings)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(W,{title:"Timestamper",description:"Timestamp manager for YouTube.",img:"/android-chrome-192x192.png"}),(0,C.jsxs)(m.W,{maxW:"100%",children:[(0,C.jsxs)(p.xu,{display:"flex",margin:"0 auto",maxW:"container.lg",justifyContent:"space-between",alignItems:"center",children:[(0,C.jsxs)(u.r,{href:"/",paddingY:"0.5rem",alignItems:"center",style:{textDecoration:"none"},display:"flex",children:[(0,C.jsx)(d.E,{boxSize:"100px",src:"images/timestamp.png",alt:"Timestamp Logo"}),(0,C.jsx)(f.X,{children:"Timestamper"})]}),(0,C.jsx)(I,{})]}),(0,C.jsxs)(p.xu,{display:"flex",sx:{gap:"0.5rem"},children:[(0,C.jsx)(x.I,{placeholder:"https://www.youtube.com/watch?v=12345",ref:q}),(0,C.jsx)(g.z,{onClick:function(){try{var e=new URL(q.current.value),t=new URLSearchParams(e.search).get("v");t?(N(t),O(!1)):O(!0)}catch(n){O(!0)}},colorScheme:"blue",children:"Update"}),(0,C.jsx)(g.z,{onClick:function(){N(null),O(!1),q.current.value="",_.loadVideoById({videoId:null})},colorScheme:"red",children:"Clear"})]}),function(){if(S)return(0,C.jsx)(p.xu,{color:"red.600",children:"You provided an invalid link!"})}(),(0,C.jsxs)(p.xu,{display:"grid",gridTemplateColumns:["1fr","1fr","1fr","1fr 1fr"],gridGap:"1rem",marginY:"1rem",children:[(0,C.jsxs)(p.xu,{position:"relative",children:[(0,C.jsx)(p.xu,{className:L().player,id:"player"}),function(){if(null==P)return(0,C.jsx)(p.xu,{className:L().playerOverlay,children:(0,C.jsx)(h.M,{width:"100%",height:"100%",children:(0,C.jsx)(f.X,{size:"lg",color:"grey",fontFamily:"Roboto",fontWeight:"extrabold",textTransform:"uppercase",userSelect:"none",children:"No video link provided"})})})}()]}),(0,C.jsxs)(p.xu,{children:[(0,C.jsx)(p.xu,{borderRadius:"0.5rem",border:"1px solid ".concat("dark"==le?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)"),ref:K,overflowY:"auto",height:"70vh",display:"flex",flexDir:"column",sx:{gap:"0.5rem"},padding:"0.5rem",children:null===t||0===t.length?(0,C.jsxs)(h.M,{height:"100%",fontFamily:"Roboto",color:"grey",userSelect:"none",flexDir:"column",children:[(0,C.jsx)(f.X,{size:"lg",fontFamily:"Roboto",fontWeight:"extrabold",textTransform:"uppercase",children:"No timestamps yet!"}),(0,C.jsxs)(j.x,{children:["Hint: You can press ",(0,C.jsx)(v.T,{children:"enter"})," to create new timestamp!"]})]}):t.map((function(e,r){return(0,C.jsx)(B,{timestampEvent:e,timestampList:t,setTimestampList:n,addNewTimestamp:H,player:_,isFocused:r===t.length-1},r)}))}),(0,C.jsxs)(p.xu,{display:"flex",sx:{gap:"0.5rem"},children:[(0,C.jsx)(g.z,{marginY:"0.5rem",leftIcon:(0,C.jsx)(o.d,{}),colorScheme:"green",onClick:H,children:"Add"}),(0,C.jsx)(g.z,{marginY:"0.5rem",leftIcon:(0,C.jsx)(w.cZL,{size:"1.5rem"}),colorScheme:"blue",onClick:re,children:"Export As Text"}),(0,C.jsx)(g.z,{marginY:"0.5rem",leftIcon:(0,C.jsx)(a.e,{}),onClick:se,children:"Settings"}),(0,C.jsx)(g.z,{marginY:"0.5rem",leftIcon:(0,C.jsx)(s.p,{}),colorScheme:"red",onClick:function(){n([])},children:"Clear"}),(0,C.jsx)("div",{style:{marginBlock:"0.5rem"},dangerouslySetInnerHTML:{__html:'<style>img.kofiimg{display: initial!important;vertical-align:middle;height:13px!important;width:20px!important;padding-top:0!important;padding-bottom:0!important;border:none;margin-top:0;margin-right:5px!important;margin-left:0!important;margin-bottom:3px!important;content:url(\'https://storage.ko-fi.com/cdn/cup-border.png\')}.kofiimg:after{vertical-align:middle;height:25px;padding-top:0;padding-bottom:0;border:none;margin-top:0;margin-right:6px;margin-left:0;margin-bottom:4px!important;content:url(\'https://storage.ko-fi.com/cdn/whitelogo.svg\')}.btn-container{display:inline-block!important;white-space:nowrap;min-width:160px}span.kofitext{color:#fff !important;letter-spacing: -0.15px!important;text-wrap:none;vertical-align:middle;line-height:33px !important;padding:0;text-align:center;text-decoration:none!important; text-shadow: 0 1px 1px rgba(34, 34, 34, 0.05);}.kofitext a{color:#fff !important;text-decoration:none:important;}.kofitext a:hover{color:#fff !important;text-decoration:none}a.kofi-button{box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.2);line-height:36px!important;min-width:150px;display:inline-block!important;background-color:#29abe0;padding:2px 12px !important;text-align:center !important;border-radius:7px;color:#fff;cursor:pointer;overflow-wrap:break-word;vertical-align:middle;border:0 none #fff !important;font-family:\'Quicksand\',Helvetica,Century Gothic,sans-serif !important;text-decoration:none;text-shadow:none;font-weight:700!important;font-size:14px !important}a.kofi-button:visited{color:#fff !important;text-decoration:none !important}a.kofi-button:hover{opacity:.85;color:#f5f5f5 !important;text-decoration:none !important}a.kofi-button:active{color:#f5f5f5 !important;text-decoration:none !important}.kofitext img.kofiimg {height:15px!important;width:22px!important;display: initial;animation: kofi-wiggle 3s infinite;}@keyframes kofi-wiggle{0%{transform:rotate(0) scale(1)}60%{transform:rotate(0) scale(1)}75%{transform:rotate(0) scale(1.12)}80%{transform:rotate(0) scale(1.1)}84%{transform:rotate(-10deg) scale(1.1)}88%{transform:rotate(10deg) scale(1.1)}92%{transform:rotate(-10deg) scale(1.1)}96%{transform:rotate(10deg) scale(1.1)}100%{transform:rotate(0) scale(1)}}</style><link href="https://fonts.googleapis.com/css?family=Quicksand:400,700" rel="stylesheet" type="text/css"><div class="btn-container"><a title="Support me on ko-fi.com" class="kofi-button" style="background-color:#0e78b5;" href="https://ko-fi.com/W7W362D8G" target="_blank"> <span class="kofitext"><img src="https://storage.ko-fi.com/cdn/cup-border.png" alt="Ko-fi donations" class="kofiimg">Give me your money</span></a></div>'}})]})]})]})]}),(0,C.jsx)(z,{isOpen:ne,onClose:ie,generateTimestampExport:function(){if(null!==t)return t.sort((function(e,t){return e.timestamp.actualSeconds-t.timestamp.actualSeconds})).map((function(e){var t=e.timestamp,n=t.hours,r=t.minutes,i=t.seconds,o=e.event;return"".concat("00"!=n?"".concat(n,":"):"").concat(r,":").concat(i," ").concat(o)})).join("\n")}}),(0,C.jsx)(Z,{isOpen:ae,onClose:ce,timestamperSettings:F,setTimestamperSettings:X})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3061)}])},8714:function(e){e.exports={player:"timestamper_player__7424S",playerOverlay:"timestamper_playerOverlay__3mXQu",timestampEvent:"timestamper_timestampEvent__K-0X5",fade:"timestamper_fade__1MdFT",timestamp:"timestamper_timestamp__1Sxwk"}}},function(e){e.O(0,[774,90,188,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);